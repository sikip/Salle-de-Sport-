<div class="user">
    <div class="togelbar">
        <div class="toglebarcontainer">
            <div class="toglebarcontainer2" *ngFor="let salle of displayedSalle">
                <img [src]="salle.image" alt="{{ salle.name }}" class="img1">
            </div>
            <div>
                <div style="position: absolute;left: 282px;top: 15px;">
                    <input class="in22" type="text" [(ngModel)]="query" (keyup.enter)="search()"
                        placeholder="Enter your search...">
                    <i class='bx bx-search-alt'
                        style="font-size: 19px;line-height: 38px;position: absolute;left: 13px;cursor: pointer;"></i>
                </div>
                <button class="bb2" (click)="toggleDropdown2()" style="position: relative;">
                    <span class="bb2s"> {{ countAcceptedEvents }}</span>
                    <div class="ii">
                        <i class='bx bx-bell' style="font-size: 22px;"></i>
                    </div>
                </button>
                <div class="dropdown-menu" *ngIf="showDropdown2" style="right: 228px;    width: 318px ">
                    <!-- Contenu de votre menu déroulant -->
                    <div class="nottit">
                        <div style="width: 222px;">
                            <h6> notification</h6>
                        </div>
                        <div style="padding: 0px 12px;width: 63px;">
                            <a href="" class="dd">Vieux all</a>
                        </div>
                    </div>
                    <div style="display: block;" *ngFor="let event of lastAcceptedEvent">
                        <div class="ev">
                            <div class="im">
                                <img [src]="event.user.image" alt="Image de l'événement" class="ivim">
                            </div>
                            <div>
                                <h6 class="hh6">{{ event.user.username }}</h6>
                                <a href="" style="text-decoration: none;" [routerLink]="['/eventid', event.id]">
                                    <p class="pp">{{ event.nom }}</p>
                                </a>
                                <p class="pp"><i class="fa-regular fa-clock"
                                        style="animation: none;font-size: 12px; "></i>
                                    {{ event.timeAgo }}
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="foot">
                        <a href="" style="font-size: 14px ;text-decoration: none;" class="dd"> Vieux more...</a>
                    </div>
                </div>
                <div *ngIf="userInfo" style="display: inline-block;">
                    <img [src]="userInfo.image" alt="User Image" class="img2">
                </div>
                <div class="b2" *ngIf="userInfo">
                    <button class="bb2" (click)="toggleDropdown()">

                        <p>{{ userInfo.username }}</p>
                        <span><i class="fas fa-angle-down icon2"></i></span>
                    </button>
                    <div class="dropdown-menu dropdown-menu-end" *ngIf="showDropdown">
                        <!-- Contenu de votre menu déroulant -->
                        <a href="" class="a1" [routerLink]="['/user',userInfo.id]">
                            <i class='bx bx-user'></i>
                            profile</a>
                            <a [routerLink]="['/updateuser',userInfo.id]" class="a1"><i class='bx bx-wrench'></i>my information</a>
                            <a [routerLink]="['/ibm',userInfo.id]" class="a1"><i class='bx bx-dumbbell'></i>my IBM</a>
                            <a [routerLink]="['/qrcode',userInfo.id]" class="a1"><i class='bx bx-qr'></i>my QRcode</a>

                    </div>
                </div>
                <button class="b">
                    <i class='bx bx-cog'></i>
                </button>


            </div>
        </div>
    </div>

</div>
<div style="display: flex;">
    <div style="position: relative;top: 70px;">
        <app-baradus></app-baradus>
    </div>
    <div class="ss">
        <div class="ss1">
            <h4 class="h4h">PROFILE</h4>
            <div style="display: flex;">
                <p class="pp4">Contacts <span style="margin-left: 8px;">/</span></p>
                <p class="pp5">Profile</p>
            </div>
        </div>
        <div class="ss2" *ngIf="eventtes">
            <div class="ss3">
                <div class="car1">
                    <div class="im2">
                        <div class="imus">
                            <img [src]="eventtes.image" alt="User Image">
                        </div>
                        <div style="display: block;">
                            <div class="con1">
                                <p class="usnam">{{ eventtes.nom }}</p>
                                <div class="con2">
                                    <div class="con3" style="    margin-right: 33px;">
                                        <p class="usib">{{ userCount }}</p>
                                        <p class="usib2">/{{eventtes.nbplace}} </p>
                                    </div>
                                    <div class="con3">
                                        <p class="usib">{{eventtes.prix}}</p>
                                        <p class="usib2">DTN </p>
                                    </div>
                                </div>
                                <div class="connn2">
                                    <h4 class="title">
                                        Cautch Information
                                    </h4>
                                    <p>Welcome to our sports event! Let's push our limits and achieve greatness together
                                    </p>
                                    <table>
                                        <tbody>
                                            <tr>
                                                <th> Full Name :</th>
                                                <td>{{eventtes.user.username }}</td>
                                            </tr>
                                            <tr>
                                                <th>Mobile :</th>
                                                <td>{{eventtes.user.telephone }}</td>
                                            </tr>
                                            <tr>
                                                <th>E-mail :</th>
                                                <td>{{eventtes.user.email }}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="conn3">
                                    <h4> Evente Information</h4>
                                    <ul>
                                        <li>
                                            <div class="ic">
                                                <i class='bx bx-right-arrow-circle'></i>
                                            </div>
                                            <h5>{{ eventtes.nom }}</h5>
                                        </li>
                                        <li>
                                            <div class="ic2">
                                                <i class='bx bx-right-arrow-circle'></i>
                                            </div>
                                            <h5>{{eventtes.datee | date:'dd MMM yyyy'}}</h5>
                                            <h5 style="margin-top: 5px; font-size: 13px;color: rgba(85, 110, 230);">
                                                start time</h5>
                                        </li>
                                        <li>
                                            <div class="ic2">
                                                <i class='bx bx-right-arrow-circle'></i>
                                            </div>
                                            <h5>{{eventtes.addedDate | date:'dd MMM yyyy'}}</h5>
                                            <h5 style="margin-top: 5px; font-size: 13px;color: rgba(85, 110, 230);">
                                                publication date</h5>
                                        </li>

                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="par2">
                <div style="display: flex;">
                    <div class="card">
                        <div class="card2">
                            <div>
                                <p>customer number</p>
                                <h4> {{ userCount }}</h4>
                            </div>
                            <div class="icc" style="    width: 55px;">
                                <span><i class='bx bxs-user' style="right: 10px;"></i></span>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card2">
                            <div>
                                <p>event price</p>
                                <h4>{{ eventtes.prix }}</h4>
                            </div>
                            <div class="icc" style="width: 44px;">
                                <span> DTN</span>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card2">
                            <div>
                                <p>event Like</p>
                                <h4>{{ likesCount }}</h4>
                            </div>
                            <div class="icc" style="width: 40px;">
                                <span> <i class='bx bx-like' ></i></span>
                            </div>
                        </div>
                    </div>
                </div>

                
                <div *ngIf="!buttonClicked" class="video">


                    <div class="video-container" *ngIf="buttonClicked">

                        <video [src]="videoUrl" controls></video>
                    </div>
                    <div *ngIf="videoUrl">
                        <video controls autoplay>
                            <source [src]="videoUrl" type="video/mp4">
                            Votre navigateur ne supporte pas la lecture de vidéos.
                        </video>
                    </div>
                      <div class="tabcautch" *ngIf="users">
                    <h4>users </h4>
                    <table>
                      <thead>
                        <tr>
                          <th>#</th>
                          <th>Nom</th>
                          <th>Email</th>
                          <th>Phone</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let user of users">
                          <td>{{user.id}}</td>
                          <td>{{ user.username }}</td>
                          <td>{{ user.email }}</td>
                          <td>{{ user.telephone }}</td>
                  
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div *ngIf="searchResults.length > 0" class="bb2b" (click)="toggleDropdown3()">
                    <div class="bb21">
                        <h1>search result</h1>
                   </div>
                    <div style="display: flex;" *ngFor="let result of searchResults">

                        <img [src]="result.image" alt="Image">
                        <div class="evv3">
                            <a href="" [routerLink]="['/initlest', userInfo.id, result.id]">{{ result.nom }} </a>
                            <a href="" [routerLink]="['/inscriptioncour', userInfo.id, result.id]">{{ result.name }}</a>
                            {{ result.username }}
                        </div>
                    </div>
                </div>
                </div>
              

            </div>
        </div>
    </div>
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />