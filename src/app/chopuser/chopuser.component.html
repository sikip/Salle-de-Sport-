<div class="user">
  <div class="togelbar">
    <div class="toglebarcontainer">
      <div class="toglebarcontainer2" *ngFor="let salle of displayedSalle">
        <img [src]="salle.image" alt="{{ salle.name }}" class="img1">
      </div>
      <div>
        <div style="position: absolute;left: 282px;top: 15px;">
          <input class="in22" type="text" [(ngModel)]="query" (keyup.enter)="search()"
            placeholder="Enter your search...">
          <i class='bx bx-search-alt'
            style="font-size: 19px;line-height: 38px;position: absolute;left: 13px;cursor: pointer;"></i>
        </div>
        <button class="bb2" (click)="toggleDropdown4()" style="position: relative;">
          <span class="bb2s">{{ countchop }} </span>

          <div class="ii" style="position: relative;top: 7px;">
              <i class='bx bx-cart-download' style="font-size: 22px;animation: none;"></i>

          </div>
      </button>
        <button class="bb2" (click)="toggleDropdown2()" style="position: relative;">
          <span class="bb2s"> {{ countAcceptedEvents }}</span>

          <div class="ii" style="position: relative;top: 7px;">
            <i class='bx bx-bell' style="font-size: 22px;"></i>
          </div>
        </button>
        <div class="dropdown-menu" *ngIf="showDropdown2" style="right: 228px;    width: 318px ">
          <!-- Contenu de votre menu déroulant -->
          <div class="nottit">
            <div style="width: 222px;">
              <h6> notification</h6>
            </div>
            <div style="padding: 0px 12px;width: 63px;">
              <a href="" class="dd">Vieux all</a>
            </div>
          </div>
          <div style="display: block;" *ngFor="let event of lastAcceptedEvent">
            <div class="ev">
              <div class="im">
                <img [src]="event.user.image" alt="Image de l'événement" class="ivim">
              </div>
              <div>
                <h6 class="hh6">{{ event.user.username }}</h6>
                <a href="" style="text-decoration: none;" [routerLink]="['/eventid', event.id]">
                  <p class="pp">{{ event.nom }}</p>
                </a>
                <p class="pp"><i class="fa-regular fa-clock" style="animation: none;font-size: 12px; "></i>
                  {{ event.timeAgo }}
                </p>
              </div>
            </div>
          </div>
          <div class="foot">
            <a href="" style="font-size: 14px ;text-decoration: none;" class="dd"> Vieux more...</a>
          </div>
        </div>
        <div *ngIf="userInfo" style="display: inline-block;">
          <img *ngIf="userInfo.image" [src]="userInfo.image" alt="User Image" class="img2">
        </div>
        <div class="b2" *ngIf="userInfo">
          <button class="bb2" (click)="toggleDropdown()">

            <p>{{ userInfo.username }}</p>
            <span style="top: 24px;"><i class="fas fa-angle-down icon2"></i></span>
          </button>
          <div class="dropdown-menu dropdown-menu-end" *ngIf="showDropdown">
            <!-- Contenu de votre menu déroulant -->
            <a href="" class="a1" [routerLink]="['/user',userInfo.id]">
              <i class='bx bx-user'></i>
              profile</a>
            <a [routerLink]="['/updateuser',userInfo.id]" class="a1"><i class='bx bx-wrench'></i>my information</a>
            <a [routerLink]="['/ibm',userInfo.id]" class="a1"><i class='bx bx-dumbbell'></i>my IBM</a>
            <a [routerLink]="['/qrcode',userInfo.id]" class="a1"><i class='bx bx-qr'></i>my QRcode</a>

          </div>
        </div>
        <button class="b">
          <i class='bx bx-cog'></i>
        </button>


      </div>
    </div>
  </div>

</div>
<div style="display: flex;">
  <div style="position: relative;top: 70px;">
    <app-baradus></app-baradus>
  </div>
  <div class="ss" *ngIf="userInfo">
    <div class="ss1">
      <div>
        <h1>product</h1>
      </div>
      <span style="display: flex;color: #c3cbe4;">
        <p style="margin-right: 10px;color: #fff;">product</p>/ <p style="color: #c3cbe4;">Profile</p>
      </span>
    </div>
    <div class="ss2">
      <div class="ss3">
        <h4>Filter</h4>
        <h5>Clothes</h5>
        <div class="ss4">
          <div class="ss4s">
            <i class='bx bx-chevron-right'></i>
            <a href="javascript:void(0);" (click)="showChopsByTypeTchort()"> Sports T-shirt</a>
          </div>
          <div class="ss4s">
            <i class='bx bx-chevron-right'></i>
            <a href="javascript:void(0);" (click)="getChopsByTypeShort()">Sports shorts</a>
          </div>
          <div class="ss4s">
            <i class='bx bx-chevron-right'></i>
            <a href="javascript:void(0);" (click)="getChopsByTypePantalon()">joggers</a>
          </div>
          <div class="ss4s">
            <i class='bx bx-chevron-right'></i>
            <a href="javascript:void(0);" (click)="getChopsByTypeDebardeur()">Sports tank top</a>
          </div>
          <div class="ss4s">
            <i class='bx bx-chevron-right'></i>
            <a href="javascript:void(0);" (click)="getChopsByTypeSurvetement()">Tracksuit</a>
          </div>
          <div class="ss4s">
            <i class='bx bx-chevron-right'></i>
            <a href="javascript:void(0);" (click)="getChopsByTypeLegging()">Leggings</a>
          </div>
          <div class="ss4s">
            <i class='bx bx-chevron-right'></i>
            <a href="javascript:void(0);" (click)="getChopsByTypeChaussures()">Sport shoes</a>
          </div>
        </div>
        <h5>Price</h5>
        <input type="range" id="priceRange" name="priceRange" min="0" max="1000" step="50" [(ngModel)]="priceRange"
          (ngModelChange)="searchChops()">
        <span style="color: #a6b0cf ;"> {{ priceRange }} DTN</span>
        <h5 style="margin-top: 15px;">Protein</h5>
        <div class="chb" style="display: block;">
          <div style="margin-bottom: 10px;">
            <input type="checkbox" id="wheyProteinCheckbox" (change)="fetchChopsByType('wheyprotein')">
            <label for="wheyProteinCheckbox">Whey Protein</label><br>
          </div>
          <div style="margin-bottom: 10px;">
            <input type="checkbox" id="caseineCheckbox" (change)="fetchChopsByType('caseine')">
            <label for="caseineCheckbox">Caséine protein</label>
          </div>
          <div style="margin-bottom: 10px;">
            <input type="checkbox" id="POIDCheckbox" (change)="fetchChopsByType('poid')">
            <label for="POIDCheckbox">Mass protein</label>
          </div>
          <div style="margin-bottom: 10px;">
            <input type="checkbox" id="rizCheckbox" (change)="fetchChopsByType('riz')">
            <label for="rizCheckbox">RIZ protein</label>
          </div>
        </div>
      </div>
      <div>

      </div>
      <div class="ss5">
         <div class="ss5s">
         <h5>PRODUCT</h5>
         <input type="text" [(ngModel)]="query2" name="query2" placeholder="Search..." (input)="searchuser()">
         <i class='bx bx-search-alt'></i>
         </div>
         <ng-container *ngIf="!query2.trim(); else chop2ResultsTemplate">
          <ng-container *ngIf="!showChopsResult; else searchResultsTemplate2">
            <div *ngIf="chops && chops.length > 0">
              <div class="cardchop" *ngFor="let chop of chops">
                <img *ngIf="chop.imageslid1" [src]="chop.imageslid1" alt="Image">
                <div class="pers" *ngIf="chop.persentage !== 0" [attr.data-percentage]="chop.persentage">
                  {{ chop.persentage }}%
                 </div>
              <div class="nomprix">
                 <h5><a [routerLink]="['/chopdetait',userInfo.id ,chop.id]">{{ chop.name }}</a></h5>

                 <h5>{{ chop.prix }}DTN</h5>
              </div>
              </div>
            </div>
          </ng-container>
        </ng-container>
      </div>
    </div>
    <ng-template #searchResultsTemplate2>
      <div *ngIf="chop2 && chop2.length > 0">
  <div *ngFor="let chop of chop2" class="cardchop">
    <img *ngIf="chop.imageslid1" [src]="chop.imageslid1" alt="Image">
    <div class="pers" *ngIf="chop.persentage !== 0" [attr.data-percentage]="chop.persentage">
      {{ chop.persentage }}%
     </div>
  <div class="nomprix">
     <h5><a [routerLink]="['/chopdetait',userInfo.id ,chop.id]">{{ chop.name }}</a></h5>

     <h5>{{ chop.prix }}DTN</h5>
  </div>
  </div>


      </div>
    </ng-template>

    <ng-template #chop2ResultsTemplate>
      <div *ngIf="searchResults2 && searchResults2.length > 0">
        <div *ngFor="let result of searchResults2" class="cardchop">
          <img *ngIf="result.imageslid1" [src]="result.imageslid1" alt="Image">
          <div class="pers" *ngIf="result.persentage !== 0" [attr.data-percentage]="result.persentage">
            {{ result.persentage }}%
          </div>
          <div class="nomprix">
            <h5><a [routerLink]="['/chopdetait',userInfo.id ,result.id]" >{{ result.name }}</a></h5>
            <h5>{{ result.prix }}DTN</h5>
          </div>
        </div>
      </div>
    
      <div *ngIf="!searchResults2 || searchResults2.length === 0">
        <p>Aucun résultat trouvé pour la recherche "{{ query2 }}".</p>
      </div>
    </ng-template>
  </div>
  <div *ngIf="searchResults.length > 0" class="bb2b" (click)="toggleDropdown3()">
    <div class="bb21">
      <h1>search result</h1>
    </div>
    <div style="display: flex;" *ngFor="let result of searchResults">

      <img [src]="result.image" alt="Image">
      <div class="evv3">
        <a href="" [routerLink]="['/initlest', userInfo.id, result.id]">{{ result.nom }} </a>
        <a href="" [routerLink]="['/inscriptioncour', userInfo.id, result.id]">{{ result.name }}</a>
        {{ result.username }}
      </div>
    </div>
  </div>
  <div class="dropdown-menu" *ngIf="showDropdown4" style="right: 275px;top: 69px;position: fixed;    width: 318px ">
    <!-- Contenu de votre menu déroulant -->
    <div class="nottit">
        <div style="width: 222px;">
            <h6> notification</h6>
        </div>
        <div style="padding: 0px 12px;width: 63px;">
            <a href="" class="dd">Vieux all</a>
        </div>
    </div>
    <div style="display: block;" *ngFor="let chop of chops2">
        <div class="ev">
            <div class="im">
                <img [src]="chop.imageslid1" alt="Image de l'événement" class="ivim">
            </div>
            <div>
                <h6 class="hh6">{{ chop.name }}</h6>
                <a [routerLink]="['/chopdetait2', userInfo.id, chop.id]" style="text-decoration: none;">
                    <p class="pp">{{ chop.type }}</p>
                </a>
                <p class="pp">
                    {{ chop.prix }}DTN
                    
                </p>
            </div>
        </div>
    </div>
    <div class="foot">
        <a href="" style="font-size: 14px ;text-decoration: none;" class="dd"> Vieux more...</a>
    </div>
</div>
</div>
<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link
  href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
  rel="stylesheet">